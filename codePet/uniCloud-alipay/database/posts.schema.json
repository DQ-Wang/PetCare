{
  "bsonType": "object",
  "required": ["header", "content"],
  "permission": {
    "read": true,
    "create": true,
    "update": true,
    "delete": true
  },
  "properties": {
    "_id": {
      "bsonType": "objectId",
      "description": "ID，系统自动生成",
      "readOnly": true
    },
    "user_id": {
      "bsonType": "string",
      "title": "用户id",
      "foreignKey": "users._id",
      "description": "发布用户 ID（外键，关联 users._id）"
    },
    "images": {
      "bsonType": "array",
      "title": "图片",
      "description": "图片 URL 列表（可选）",
      "items": {
        "bsonType": "string"
      }
    },
    "header": {
      "bsonType": "string",
      "title": "标题",
      "description": "帖子的标题"
    },
    "content": {
      "bsonType": "string",
      "title": "正文",
      "description": "帖子内容"
    },
    "category_id": {
      "title": "标签",
      "bsonType": "array",
      "description": "所选标签的 ID 列表（可选）",
      "items": {
        "bsonType": "objectId",
        "foreignKey": "categories._id"
      }
    },
    "create_date": {
      "bsonType": "timestamp",
      "description": "发布时间",
      "forceDefaultValue": {
        "$env": "now"
      }
    },
    "like_count": {
      "bsonType": "int",
      "description": "点赞数量（冗余字段，便于查询）",
      "default": 0
    },
    "comment_count": {
      "bsonType": "int",
      "description": "评论数量（冗余字段，便于查询）",
      "default": 0
    },
    "share_count": {
      "bsonType": "int",
      "description": "分享数量（冗余字段，便于查询）",
      "default": 0
    },
    "is_top": {
      "bsonType": "bool",
      "description": "是否置顶（可选，用于运营管理）",
      "default": false
    },
    "location": {
      "bsonType": "object",
      "title": "地理位置",
      "description": "地理位置信息（可选）",
      "properties": {
        "address": {
          "bsonType": "string",
          "description": "详细地址"
        }
      }
    },
    "ip": {
      "bsonType": "string",
      "title": "IP地址",
      "description": "客户端IP地址",
      "forceDefaultValue": {
        "$env": "clientIP"
      }
    }
  }
}